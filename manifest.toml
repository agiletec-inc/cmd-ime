version = 1
mode = "hybrid"

# ========================================
# Project Metadata (Source of Truth)
# ========================================
[project]
id = "cmd-ime"
binary_name = "cmd-ime"
version = "1.2.0"
description = "âŒ˜IME (Command IME) - Lightweight macOS app for switching between alphanumeric and kana input"
authors = ["Kazuki <kazuki@agiletec.jp>"]
license = "MIT"
homepage = "https://github.com/agiletec-inc/cmd-ime"
repository = "https://github.com/agiletec-inc/cmd-ime"
keywords = ["macos", "ime", "input-method", "keyboard", "japanese"]
categories = ["command-line-utilities", "macos"]

[workspace]
name = "cmd-ime"

[catalog]

[workspaces]
apps = []
libs = []

[dev]
autostart = []

[apps]

[libs]

[docker]
baseImage = ""
workdir = ""

[service]

[rule.verify]
commands = [
    "swift build",
    "swift test",
]

[rule.ci]
commands = [
    "swift build",
    "swift test",
]

[packages]
workspaces = []

[packages.catalog]

[packages.root.dependencies]

[packages.root.devDependencies]

[packages.root.optionalDependencies]

[packages.root.scripts]

[packages.root.engines]

[packages.root.pnpm]
onlyBuiltDependencies = []

[packages.root.pnpm.overrides]

[packages.root.pnpm.peerDependencyRules]
ignoreMissing = []

[packages.root.pnpm.peerDependencyRules.allowedVersions]

[packages.root.pnpm.allowedScripts]

[guards]
deny = [
    "git commit --no-verify",
]

[guards.wrap]
"git commit" = "./scripts/commit.sh"

[guards.deny_with_message]
"git commit --no-verify" = "Bypasses version checks - use ./scripts/commit.sh instead"

# ========================================
# Versioning
# ========================================
[versioning]
strategy = "conventional-commits"
source = "1.2.0"

# ========================================
# CI/CD Configuration
# ========================================
[ci]
enabled = true
auto_version = true
repository = "agiletec-inc/cmd-ime"
homebrew_tap = "agiletec-inc/homebrew-tap"

[ci.auto_merge]
enabled = false

# ========================================
# Documentation
# ========================================
[docs]
targets = ["CLAUDE.md"]
mode = "warn"
